<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <template id="product_detail_templates" name="Product Detail">
        <main class="toolrange">
            <div class="toolrange__prod-detail">
                <div class="toolrange__prod-detail__head-breadcrumbs toolrange__breadcrumbs">
                    <a href="/">Home</a>
                    <a t-att-href="'/category-detail/' + (values['categ_slug'] or '') + '?page=1'">
                        <t t-esc="values['category']"/>
                    </a>
                    <a href="#" class="current">
                        <t t-esc="values['name']"/>
                    </a>
                </div>
                <div itemscope="itemscope" itemtype="http://schema.org/Product" id="wrap"
                     class="js_sale o_wsale_product_page">
                    <section id="product_detail"
                             t-attf-class="oe_website_sale my-3 my-lg-4 #{'discount'
                            if combination_info['has_discounted_price'] else ''}"
                             t-att-data-view-track="view_track and '1' or '0'"
                             t-att-data-product-tracking-info="'product_tracking_info' in combination_info and json.dumps(combination_info['product_tracking_info'])">
                        <div class="toolrange__prod-detail__prod">
                            <div class="toolrange__prod-detail__prod-thumbnalls">
                                <t t-foreach="values['image']" t-as="img">
                                    <div class="toolrange__prod-detail__prod-thumbnall">
                                        <img t-att-src="img" t-att-alt="values['name']" t-att-data-src="img"
                                             class="thumbnail-img" loading="lazy"/>
                                    </div>
                                </t>
                            </div>

                            <div class="toolrange__prod-detail__prod-view">
                                <img t-att-src="values['img_128']" t-att-alt="values['name']" class="main-img"
                                     loading="lazy"/>
                            </div>

                            <div class="toolrange__prod-detail__prod-info">
                                <div class="toolrange__prod-detail__prod-btns">
                                    <!--                                    <div class="group-bns">-->
                                    <form t-if="product._is_add_to_cart_possible()" action="/shop/cart/update"
                                          method="POST">
                                        <h3 class="toolrange__prod-detail__prod-name">
                                            <t t-esc="values['name']"/>
                                        </h3>
                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"
                                               t-nocache="The csrf token must always be up to date."/>
                                        <div class="js_product js_main_product">
                                            <div class="toolrange__prod-detail__prod-options-wrapper">
                                                <p class="toolrange__prod-detail__prod-options-title">
                                                    Grip Range Options
                                                </p>
                                                <t t-placeholder="select">
                                                    <input type="hidden" class="product_id" name="product_id"
                                                           t-att-value="product_variant.id"/>
                                                    <input type="hidden" class="product_template_id"
                                                           name="product_template_id"
                                                           t-att-value="product.id"/>
                                                    <input t-if="product.public_categ_ids.ids" type="hidden"
                                                           class="product_category_id" name="product_category_id"
                                                           t-att-value="product.public_categ_ids.ids[0]"/>
                                                    <t t-call="website_sale.variants">
                                                        <t t-set="ul_class" t-valuef="flex-column"/>
                                                        <t t-set="parent_combination" t-value="None"/>
                                                        <t t-set="combination"
                                                           t-value="combination_info['combination']"/>
                                                    </t>
                                                </t>
                                            </div>


                                            <div id="o_wsale_cta_wrapper"
                                                 class="d-flex flex-wrap align-items-center">
                                                <t t-set="hasQuantities" t-value="false" name="t-value"
                                                   remove="false" add="true" separator=" "/>

                                                <t t-set="hasBuyNow" t-value="false"/>
                                                <!-- TODO: remove line below in master -->
                                                <t t-set="ctaSizeBig" t-value="not hasQuantities or not hasBuyNow"/>
                                                <t t-if="request.session.uid">
                                                    <div class="mt-2 w-100">
                                                        <span t-esc="product.list_price"
                                                              class="fw-bold"
                                                              name="product_price"
                                                              style="font-size: 32px;"
                                                              t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                                                    </div>
                                                </t>
                                                <div class="toolrange__prod-detail__prod-quantity-box">
                                                    <span class="quantity-title">Quantity</span>
                                                    <div t-attf-class="toolrange__prod-detail__prod-quantity-action product-quantity-action css_quantity input-group {{'d-none' if combination_info['prevent_zero_price_sale'] else 'd-inline-flex'}} me-2 mb-2 align-middle"
                                                         contenteditable="false">
                                                        <a t-attf-href="#" class="js_add_cart_json"
                                                           aria-label="Remove one" title="Remove one">
                                                            <i class="fa fa-minus"/>
                                                        </a>
                                                        <input type="text" class="quantity text-center"
                                                               data-min="1" name="add_qty" t-att-value="1"/>
                                                        <a t-attf-href="#" class="float_left js_add_cart_json"
                                                           aria-label="Add one" title="Add one">
                                                            <i class="fa fa-plus"/>
                                                        </a>
                                                    </div>
                                                </div>

                                                <div class="group-bns">
                                                    <button class="toolrange__prod-detail__prod-btn btn-find">
                                                        Find Your Nearest Store
                                                    </button>
                                                    <t t-if="request.session.uid">
                                                        <div id="add_to_cart_wrap"
                                                             class="toolrange__prod-detail__prod-btn btn-add">
                                                            <a data-animation-selector=".o_wsale_product_images"
                                                               role="button"
                                                               id="add_to_cart"
                                                               href="#">
                                                                <i class="fa fa-shopping-cart me-2"></i>
                                                                Add to cart
                                                            </a>
                                                        </div>
                                                    </t>

                                                </div>
                                                <div id="product_option_block" class="d-flex flex-wrap w-100"/>
                                            </div>

                                        </div>
                                    </form>
                                    <t t-if="not request.session.uid">
                                        <button class="toolrange__prod-detail__prod-btn btn-request">Request A Price
                                        </button>
                                    </t>
                                </div>
                            </div>
                        </div>
                        <div class="toolrange__prod-detail__prod" id="product_detail_main" data-name="Product Page"
                             t-att-data-image_width="website.product_page_image_width"
                             t-att-data-image_layout="website.product_page_image_layout" style="display: none;">
                            <div id="product_details">
                                <form t-if="product._is_add_to_cart_possible()" action="/shop/cart/update"
                                      method="POST">
                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"
                                           t-nocache="The csrf token must always be up to date."/>
                                    <div class="js_product js_main_product mb-3">
                                        <t t-placeholder="select">
                                            <input type="hidden" class="product_id" name="product_id"
                                                   t-att-value="product_variant.id"/>
                                            <input type="hidden" class="product_template_id" name="product_template_id"
                                                   t-att-value="product.id"/>
                                            <input t-if="product.public_categ_ids.ids" type="hidden"
                                                   class="product_category_id" name="product_category_id"
                                                   t-att-value="product.public_categ_ids.ids[0]"/>
                                            <t t-call="website_sale.variants">
                                                <t t-set="ul_class" t-valuef="flex-column"/>
                                                <t t-set="parent_combination" t-value="None"/>
                                                <t t-set="combination" t-value="combination_info['combination']"/>
                                            </t>
                                        </t>
                                        <div id="o_wsale_cta_wrapper" class="d-flex flex-wrap align-items-center">
                                            <t t-set="hasQuantities" t-value="false"/>
                                            <t t-set="hasBuyNow" t-value="false"/>
                                            <!-- TODO: remove line below in master -->
                                            <t t-set="ctaSizeBig" t-value="not hasQuantities or not hasBuyNow"/>

                                            <div id="add_to_cart_wrap"
                                                 t-attf-class="{{'d-none' if combination_info['prevent_zero_price_sale'] else 'd-inline-flex'}} align-items-center mb-2 me-auto">
                                                <a data-animation-selector=".o_wsale_product_images" role="button"
                                                   id="add_to_cart"
                                                   t-attf-class="btn btn-primary js_check_product a-submit flex-grow-1"
                                                   href="#">
                                                    <i class="fa fa-shopping-cart me-2"/>
                                                    Add to cart
                                                </a>
                                            </div>
                                            <div id="product_option_block" class="d-flex flex-wrap w-100"/>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </section>
                </div>
                <div class="toolrange__prod-detail__description">
                    <p class="toolrange__prod-detail__description-title">Description</p>

                    <div class="toolrange__prod-detail__description-blocks">
                        <div class="toolrange__prod-detail__description-block">
                            <p class="toolrange__prod-detail__description-tag">General</p>

                            <div class="toolrange__prod-detail__description-content">
                                <p>
                                    <t t-esc="values['description']"/>
                                </p>
                            </div>
                        </div>
                        <div class="js_product">
                            <div class="toolrange__prod-detail__description-block">
                                <p class="toolrange__prod-detail__description-tag">Specifications</p>
                                <div class="toolrange__prod-detail__specifications-content">
                                </div>
                            </div>
                        </div>
                        <div class="toolrange__prod-detail__description-block block-tab">
                            <div class="toolrange__prod-detail__description-tabs">
                                <button data-tab="image" class="toolrange__prod-detail__description-tab tab-active">
                                    Image
                                </button>
                                <button data-tab="video" class="toolrange__prod-detail__description-tab">Video</button>
                            </div>

                            <div class="toolrange__prod-detail__description-views">
                                <div data-view="image"
                                     class="toolrange__prod-detail__description-view view-img view-active">
                                    <div class="img-left">
                                        <img src="/website_aardwolf/static/imgs/common/product/img-5.png" alt=""/>
                                    </div>

                                    <div class="img-right">
                                        <div class="img-right-top">
                                            <img src="/website_aardwolf/static/imgs/common/product/img-6.png" alt=""/>
                                        </div>

                                        <div class="img-right-bottom">
                                            <img src="/website_aardwolf/static/imgs/common/product/img-7.png" alt=""/>
                                            <img src="/website_aardwolf/static/imgs/common/product/img-7.png" alt=""/>
                                        </div>
                                    </div>
                                </div>

                                <div data-view="video" class="toolrange__prod-detail__description-view view-video">
                                    <iframe
                                            width="100%"
                                            height="658"
                                            t-att-src="values['video']"
                                            title="YouTube video player"
                                            frameborder="0"
                                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                            referrerpolicy="strict-origin-when-cross-origin"
                                    />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="toolrange__prod-detail__reviews non-first">
                    <h3 class="toolrange__prod-detail__reviews-title">Customer Reviews</h3>

                    <div class="toolrange__prod-detail__reviews-group">
                        <div class="toolrange__prod-detail__reviews-sub-group">
                            <p class="average-number-of-stars">4.3</p>
                            <div>
                                <div class="toolrange__prod-detail__reviews-stars">
                                    <data value="5" class="toolrange__prod-detail__reviews-star"></data>
                                    <data
                                            value="4"
                                            class="toolrange__prod-detail__reviews-star star-active"
                                    ></data>
                                    <data
                                            value="3"
                                            class="toolrange__prod-detail__reviews-star star-active"
                                    ></data>
                                    <data
                                            value="2"
                                            class="toolrange__prod-detail__reviews-star star-active"
                                    ></data>
                                    <data
                                            value="1"
                                            class="toolrange__prod-detail__reviews-star star-active"
                                    ></data>
                                </div>

                                <p class="total-rating">Be the first to write a review</p>
                            </div>
                        </div>

                        <div class="line-break"></div>

                        <button class="toolrange__prod-detail__reviews-btn">
                            WRITE A REVIEW
                        </button>
                    </div>

                    <div class="toolrange__prod-detail__reviews-wrapper">
                        <ul class="review-list">
                            <li class="review-item">
                                <p class="review-item__title">Be the first to write a review</p>

                                <div class="toolrange__prod-detail__reviews-stars review-item__stars">
                                    <data
                                            value="5"
                                            class="toolrange__prod-detail__reviews-star review-item__star"
                                    ></data>
                                    <data
                                            value="4"
                                            class="toolrange__prod-detail__reviews-star review-item__star star-active"
                                    ></data>
                                    <data
                                            value="3"
                                            class="toolrange__prod-detail__reviews-star review-item__star star-active"
                                    ></data>
                                    <data
                                            value="2"
                                            class="toolrange__prod-detail__reviews-star review-item__star star-active"
                                    ></data>
                                    <data
                                            value="1"
                                            class="toolrange__prod-detail__reviews-star review-item__star star-active"
                                    ></data>
                                </div>

                                <p class="review-item__message">
                                    Just wanted to give a shoutout to [team member] for their hard work
                                    on this task, it's really paying; Just wanted to give a shoutout to
                                    [team member] for their hard work on this task, it's really
                                    payingJust wanted to give a shoutout to [team member] for their hard
                                    work on this task, it's really paying
                                </p>
                            </li>
                            <li class="review-item">
                                <p class="review-item__title">Great experience overall</p>

                                <div class="toolrange__prod-detail__reviews-stars review-item__stars">
                                    <data
                                            value="5"
                                            class="toolrange__prod-detail__reviews-star review-item__star"
                                    ></data>
                                    <data
                                            value="4"
                                            class="toolrange__prod-detail__reviews-star review-item__star star-active"
                                    ></data>
                                    <data
                                            value="3"
                                            class="toolrange__prod-detail__reviews-star review-item__star star-active"
                                    ></data>
                                    <data
                                            value="2"
                                            class="toolrange__prod-detail__reviews-star review-item__star star-active"
                                    ></data>
                                    <data
                                            value="1"
                                            class="toolrange__prod-detail__reviews-star review-item__star star-active"
                                    ></data>
                                </div>

                                <p class="review-item__message">
                                    The project exceeded my expectations and the collaboration was
                                    seamless; The project exceeded my expectations and the collaboration
                                    was seamlessThe project exceeded my expectations and the
                                    collaboration was seamless.
                                </p>
                            </li>
                            <li class="review-item">
                                <p class="review-item__title">Highly recommend this service</p>

                                <div class="toolrange__prod-detail__reviews-stars review-item__stars">
                                    <data
                                            value="5"
                                            class="toolrange__prod-detail__reviews-star review-item__star"
                                    ></data>
                                    <data
                                            value="4"
                                            class="toolrange__prod-detail__reviews-star review-item__star star-active"
                                    ></data>
                                    <data
                                            value="3"
                                            class="toolrange__prod-detail__reviews-star review-item__star star-active"
                                    ></data>
                                    <data
                                            value="2"
                                            class="toolrange__prod-detail__reviews-star review-item__star star-active"
                                    ></data>
                                    <data
                                            value="1"
                                            class="toolrange__prod-detail__reviews-star review-item__star star-active"
                                    ></data>
                                </div>

                                <p class="review-item__message">
                                    The team was professional and delivered on time; The team was
                                    professional and delivered on timeThe team was professional and
                                    delivered on time.
                                </p>
                            </li>
                            <li class="review-item">
                                <p class="review-item__title">Fantastic results and support</p>

                                <div class="toolrange__prod-detail__reviews-stars review-item__stars">
                                    <data
                                            value="5"
                                            class="toolrange__prod-detail__reviews-star review-item__star"
                                    ></data>
                                    <data
                                            value="4"
                                            class="toolrange__prod-detail__reviews-star review-item__star star-active"
                                    ></data>
                                    <data
                                            value="3"
                                            class="toolrange__prod-detail__reviews-star review-item__star star-active"
                                    ></data>
                                    <data
                                            value="2"
                                            class="toolrange__prod-detail__reviews-star review-item__star star-active"
                                    ></data>
                                    <data
                                            value="1"
                                            class="toolrange__prod-detail__reviews-star review-item__star star-active"
                                    ></data>
                                </div>

                                <p class="review-item__message">
                                    Every question I had was answered promptly and thoroughly; Every
                                    question I had was answered promptly and thoroughlyEvery question I
                                    had was answered promptly and thoroughly.
                                </p>
                            </li>
                        </ul>

                        <div class="review-pagination">
                            <button class="review-pagination__btn btn-prev disable"></button>
                            <button class="review-pagination__btn btn-page page-active">1</button>
                            <button class="review-pagination__btn btn-page">2</button>
                            <button class="review-pagination__btn btn-page">3</button>
                            <button class="review-pagination__btn btn-page">4</button>
                            <button class="review-pagination__btn btn-page">5</button>
                            <button class="review-pagination__btn btn-none">...</button>
                            <button class="review-pagination__btn btn-page">10</button>
                            <button class="review-pagination__btn btn-next"></button>
                        </div>
                    </div>
                </div>
                <div class="toolrange__prod-detail__slider recommended-combinations__slider swiper recommendedCombinationsSwiper">
                    <div class="toolrange__prod-detail__slider-group">
                        <p class="toolrange__prod-detail__slider-title">
                            Recommended Combinations
                        </p>

                        <div class="toolrange__prod-detail__slider-actions">
                            <div class="swiper-button-prev"></div>
                            <div class="swiper-pagination"></div>
                            <div class="swiper-button-next"></div>
                        </div>
                    </div>

                    <div class="toolrange__prod-detail__slider-slides swiper-wrapper">
                        <t t-foreach="values['recommended']" t-as="rcm">
                            <a productItemId="" t-att-href="rcm.website_url"
                               class="toolrange__recomment-slider-slide swiper-slide">
                                <div class="slide-img">
                                    <img alt="" t-att-src="'/web/image/product.template/%s/image_512' % rcm.id"/>
                                </div>

                                <div class="img-content">
                                    <p>
                                        <t t-esc="rcm.name"/>
                                    </p>
                                </div>
                            </a>
                        </t>
                    </div>
                </div>

                <div class="toolrange__prod-detail__slider recommended-combinations__slider swiper ymalSwiper">
                    <div class="toolrange__prod-detail__slider-group">
                        <p class="toolrange__prod-detail__slider-title">You Might Also Like</p>

                        <div class="toolrange__prod-detail__slider-actions">
                            <div class="swiper-button-prev"></div>
                            <div class="swiper-pagination"></div>
                            <div class="swiper-button-next"></div>
                        </div>
                    </div>

                    <div class="toolrange__prod-detail__slider-slides swiper-wrapper">
                        <t t-foreach="values['recommended']" t-as="rcm">
                            <a productItemId="" t-att-href="rcm.website_url"
                               class="toolrange__recomment-slider-slide swiper-slide">
                                <div class="slide-img">
                                    <img alt="" t-att-src="'/web/image/product.template/%s/image_512' % rcm.id"/>
                                </div>

                                <div class="img-content">
                                    <p>
                                        <t t-esc="rcm.name"/>
                                    </p>
                                </div>
                            </a>
                        </t>
                    </div>
                </div>


                <div class="toolrange__prod-detail__dialog toolrange-dialog">
                    <form action="/contact/form" method="post"
                          class="toolrange__prod-detail__form-request form-request__demo">
                        <input type="hidden" name="request_price" value="True"/>
                        <div class="toolrange__prod-detail__form-request-close form-request-close"/>
                        <h2 class="toolrange__prod-detail__form-request-title">
                            Request a price
                        </h2>

                        <div class="group-fields">
                            <div class="toolrange__prod-detail__form-request-fields">
                                <input
                                        id="form-request-first-name"
                                        name="firstName"
                                        type="text"
                                        class="toolrange__prod-detail__form-request-field"
                                        placeholder="First Name*"
                                        required="true"
                                />
                                <input
                                        id="form-request-last-name"
                                        name="lastName"
                                        type="text"
                                        class="toolrange__prod-detail__form-request-field"
                                        placeholder="Last Name*"
                                        required="true"
                                />
                            </div>

                            <div class="toolrange__prod-detail__form-request-fields">
                                <input
                                        id="form-request-email"
                                        name="email"
                                        type="email"
                                        class="toolrange__prod-detail__form-request-field"
                                        placeholder="Email*"
                                        required="true"
                                />
                                <input
                                        id="form-request-phone"
                                        name="phone"
                                        type="text"
                                        class="toolrange__prod-detail__form-request-field"
                                        placeholder="Phone*"
                                        required="true"
                                />
                            </div>

                            <div class="toolrange__prod-detail__form-request-fields">
                                <input
                                        id="form-request-company"
                                        name="companyName"
                                        type="text"
                                        class="toolrange__prod-detail__form-request-field"
                                        placeholder="Company Name*"
                                        required="true"
                                />
                                <input
                                        id="form-request-last-name"
                                        name="postcode"
                                        type="number"
                                        class="toolrange__prod-detail__form-request-field"
                                        placeholder="Postcode*"
                                        required="true"
                                />
                            </div>
                            <div class="toolrange__prod-detail__form-request-select select-custom select-country">
                                <span name="select-mask" class="select-custom__mask"></span>
                                <input
                                        id="form-request-country"
                                        name="country"
                                        type="text"
                                        readonly="true"
                                        class="toolrange__prod-detail__form-request-field select-field"
                                        placeholder="Country*"
                                />

                                <div class="select-custom__options">
                                    <data value="vn" class="select-custom__option">Vietnam</data>
                                    <data value="usa" class="select-custom__option">America</data>
                                    <data value="aus" class="select-custom__option"
                                    >Australia
                                    </data
                                    >
                                    <data value="ca" class="select-custom__option">Canada</data>
                                    <data value="ind" class="select-custom__option">India</data>
                                </div>
                            </div>

                            <textarea
                                    name="message"
                                    id="form-request-message"
                                    class="toolrange__prod-detail__form-request-field"
                                    placeholder="Message"/>
                        </div>
                        <button type="submit" class="toolrange__prod-detail__form-request-btn btn-submit">Request a
                            price
                        </button>

                        <p class="toolrange__prod-detail__form-request-explain">
                            *How we might use your information We may contact you by phone or
                            email, if you have not opted out, or where we are otherwise
                            permitted by law, to provide you with marketing communications
                            about similar goods and services. The legal basis that allows us
                            to use your information is ‘legitimate interests’. More
                            information about how we use your personal data can be found in
                            our Privacy Policy.
                        </p>
                    </form>
                </div>
            </div>
        </main>
        <!--        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"/>-->
        <script type="module" src="/website_aardwolf/static/js/main.js"/>
        <script type="module" src="/website_aardwolf/static/js/product-detail.js"/>
        <!--        <script type="module" src="/website_aardwolf/static/js/click_thumbnails.js"/>-->
    </template>

    <template id="product_detail_templates_aardwolf" name="Product Detail">
        <t t-call="website_aardwolf.layout">
            <t t-call="website_aardwolf.product_detail_templates"/>
        </t>
        <script src="/website_aardwolf/static/js/main.js"/>
    </template>

    <template id="product_templates" name="Product">
        <section class="toolrange__search-results">
            <div class="toolrange__search-results__value">
                <p>Results for “
                    <span class="value-search">
                        <t t-esc="search"/>
                    </span>
                    ”
                </p>
            </div>

            <div class="toolrange__search-results__content">
                <div class="toolrange__search-results__list toolrange__products__list">
                    <t t-foreach="values" t-as="prd">
                        <a t-att-href="prd['website_url']" class="toolrange__products__item">
                            <div class="product-img">
                                <img t-att-src="prd['img']" t-att-alt="prd['name']" loading="lazy"/>
                            </div>
                            <p class="product-info">
                                <t t-esc="prd['name']"/>
                            </p>
                        </a>
                    </t>
                </div>
                <a href="#" class="toolrange__search-results__button-more">
                    Load more
                </a>
            </div>
        </section>
        <script type="module" src="/website_aardwolf/static/js/main.js"/>
    </template>

    <template id="product_templates_aardwolf" name="Product">
        <t t-call="website_aardwolf.layout">
            <t t-call="website_aardwolf.product_templates"/>
        </t>
        <script type="module" src="/website_aardwolf/static/js/main.js"/>
    </template>


    <template id="product_detail_aardwolf" name="Product" inherit_id="website_sale.product" primary="True">
        <xpath expr="//t[@t-call='website.layout']" position="replace">
            <t t-call="website_aardwolf.layout">
                <t t-call="website_aardwolf.product_detail_templates"/>
            </t>
        </xpath>
    </template>

    <template id="website_sale.variants">
        <t t-set="attribute_exclusions" t-value="product._get_attribute_exclusions(parent_combination)"/>
        <ul t-attf-class="list-unstyled js_add_cart_variants mb-0 #{ul_class}"
            t-att-data-attribute_exclusions="json.dumps(attribute_exclusions)">
            <t t-foreach="product.valid_product_template_attribute_line_ids" t-as="ptal">
                <t t-set="attribute" t-value="ptal.attribute_id"/>
                <t t-set="ptavs" t-value="ptal.product_template_value_ids._only_active()"/>
                <t t-set="single" t-value="len(ptavs) == 1"/>

                <!-- Attributes selection is hidden if there is only one value available and it's not a custom value -->
                <li t-att-data-attribute_id="attribute.id"
                    t-att-data-attribute_name="attribute.name"
                    t-att-data-attribute_display_type="attribute.display_type"
                    t-attf-class="variant_attribute #{
                        'd-none' if single
                        and not ptavs[0].is_custom
                        and not attribute.display_type == 'multi' else ''
                    }">

                    <!-- Used to customize layout if the only available attribute value is custom -->
                    <t t-set="single_and_custom" t-value="single and ptavs[0].is_custom"/>
                    <strong t-field="ptal.attribute_id.name" class="attribute_name"/>

                    <t t-if="attribute.display_type == 'select'">
                        <select
                                t-att-data-attribute_id="attribute.id"
                                t-attf-class="form-select css_attribute_select o_wsale_product_attribute js_variant_change #{attribute.create_variant} #{'d-none' if single_and_custom else ''}"
                                t-att-name="'ptal-%s' % ptal.id">
                            <t t-foreach="ptavs" t-as="ptav">
                                <option t-att-value="ptav.id"
                                        t-att-data-attribute-value-id="ptav.product_attribute_value_id.id"
                                        t-att-data-value_id="ptav.id"
                                        t-att-data-value_name="ptav.name"
                                        t-att-data-attribute_name="attribute.name"
                                        t-att-data-is_custom="ptav.is_custom"
                                        t-att-selected="ptav in combination"
                                        t-att-data-is_single="single"
                                        t-att-data-is_single_and_custom="single_and_custom">
                                    <span t-field="ptav.name"/>
                                    <t t-call="website_sale.badge_extra_price"/>
                                </option>
                            </t>
                        </select>
                    </t>

                    <t t-elif="attribute.display_type in ('radio', 'multi')">
                        <ul t-att-data-attribute_id="attribute.id"
                            t-attf-class="list-inline list-unstyled o_wsale_product_attribute #{'d-none' if single_and_custom else ''}">
                            <t t-foreach="ptavs" t-as="ptav">
                                <li class="list-inline-item mb-3 js_attribute_value" style="margin: 0;">
                                    <label class="col-form-label">
                                        <div class="form-check">
                                            <input t-att-type="'radio' if attribute.display_type == 'radio' else 'checkbox'"
                                                   t-attf-class="form-check-input js_variant_change #{attribute.create_variant}"
                                                   t-att-checked="ptav in combination"
                                                   t-att-name="'ptal-%s' % ptal.id"
                                                   t-att-value="ptav.id"
                                                   t-att-data-attribute-value-id="ptav.product_attribute_value_id.id"
                                                   t-att-data-value_id="ptav.id"
                                                   t-att-data-value_name="ptav.name"
                                                   t-att-data-attribute_name="attribute.name"
                                                   t-att-data-is_custom="ptav.is_custom"
                                                   t-att-data-is_single="single if ptal.attribute_id.display_type != 'multi' else False"
                                                   t-att-data-is_single_and_custom="single_and_custom"/>
                                            <div class="radio_input_value form-check-label">
                                                <span t-field="ptav.name"/>
                                                <t t-call="website_sale.badge_extra_price"/>
                                            </div>
                                        </div>
                                    </label>
                                </li>
                            </t>
                        </ul>
                    </t>

                    <t t-elif="attribute.display_type == 'pills'">
                        <ul t-att-data-attribute_id="attribute.id"
                            t-attf-class="btn-group-toggle list-inline list-unstyled o_wsale_product_attribute #{'d-none' if single_and_custom else ''}"
                            data-bs-toggle="buttons">
                            <t t-foreach="ptavs" t-as="ptav">
                                <li t-attf-class="o_variant_pills btn btn-primary mb-1 list-inline-item js_attribute_value #{'active' if ptav in combination else ''}">
                                    <input type="radio"
                                           t-attf-class="js_variant_change #{attribute.create_variant}"
                                           t-att-checked="ptav in combination"
                                           t-att-name="'ptal-%s' % ptal.id"
                                           t-att-value="ptav.id"
                                           t-att-data-value_id="ptav.id"
                                           t-att-id="ptav.id"
                                           t-att-data-attribute-value-id="ptav.product_attribute_value_id.id"
                                           t-att-data-value_name="ptav.name"
                                           t-att-data-attribute_name="attribute.name"
                                           t-att-data-is_custom="ptav.is_custom"
                                           t-att-data-is_single_and_custom="single_and_custom"
                                           t-att-autocomplete="off"/>
                                    <label class="radio_input_value o_variant_pills_input_value"
                                           t-att-for="ptav.id">
                                        <span t-field="ptav.name"/>
                                        <t t-call="website_sale.badge_extra_price"/>
                                    </label>
                                </li>
                            </t>
                        </ul>
                    </t>

                    <t t-elif="attribute.display_type == 'color'">
                        <ul t-att-data-attribute_id="attribute.id"
                            t-attf-class="list-inline o_wsale_product_attribute #{'d-none' if single_and_custom else ''}">
                            <li t-foreach="ptavs" t-as="ptav" class="list-inline-item me-1">
                                <t t-set="img_style"
                                   t-value="'background:url(/web/image/product.template.attribute.value/%s/image); background-size:cover;' % ptav.id if ptav.image else ''"
                                />
                                <t t-set="color_style"
                                   t-value="'background:' + str(ptav.html_color or ptav.name if not ptav.is_custom else '')"
                                />
                                <label t-attf-style="#{img_style or color_style}"
                                       t-attf-class="css_attribute_color #{'active' if ptav in combination else ''} #{'custom_value' if ptav.is_custom else ''} #{'transparent' if (not ptav.is_custom and not ptav.html_color) else ''}"
                                >
                                    <input type="radio"
                                           t-attf-class="js_variant_change  #{attribute.create_variant}"
                                           t-att-checked="ptav in combination"
                                           t-att-name="'ptal-%s' % ptal.id"
                                           t-att-value="ptav.id"
                                           t-att-title="ptav.name"
                                           t-att-data-attribute-value-id="ptav.product_attribute_value_id.id"
                                           t-att-data-value_id="ptav.id"
                                           t-att-data-value_name="ptav.name"
                                           t-att-data-attribute_name="attribute.name"
                                           t-att-data-is_custom="ptav.is_custom"
                                           t-att-data-is_single="single"
                                           t-att-data-is_single_and_custom="single_and_custom"/>
                                </label>
                            </li>
                        </ul>
                    </t>
                </li>
            </t>
        </ul>
    </template>

</odoo>
